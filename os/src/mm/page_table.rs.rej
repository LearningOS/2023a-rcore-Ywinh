diff a/os/src/mm/page_table.rs b/os/src/mm/page_table.rs	(rejected hunks)
@@ -1,6 +1,6 @@
 //! Implementation of [`PageTableEntry`] and [`PageTable`].
 
-use super::{frame_alloc, FrameTracker, PhysPageNum, StepByOne, VirtAddr, VirtPageNum};
+use super::{frame_alloc, FrameTracker, PhysAddr, PhysPageNum, StepByOne, VirtAddr, VirtPageNum};
 use alloc::vec;
 use alloc::vec::Vec;
 use bitflags::*;
@@ -171,3 +183,14 @@ pub fn translated_byte_buffer(token: usize, ptr: *const u8, len: usize) -> Vec<&
     }
     v
 }
+
+pub fn translate_va2pa(token: usize, va: VirtAddr) -> PhysAddr {
+    let page_table = PageTable::from_token(token);
+    //想办法写入对应的物理地址，va -> vpn -> ppn + offset -> pa
+    let vpn = va.floor();
+    let offset = va.page_offset();
+    let ppn = page_table.translate(vpn).unwrap().ppn();
+    let pa: PhysAddr = ppn.into();
+    let pa_offset: PhysAddr = PhysAddr(pa.0 + offset);
+    pa_offset
+}
